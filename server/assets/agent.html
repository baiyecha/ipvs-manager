<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        table, table tr th, table tr td {
            border: 1px solid #0094ff;
        }

        button {
            margin: 2px;
        }

        table {
            width: 800px;
            min-height: 25px;
            line-height: 25px;
            text-align: center;
            border-collapse: collapse;
            padding: 2px;
        }
    </style>
</head>
<body>
<a href="/logout"><button type="button">退出</button></a>
<a href="/table"><button type="button">IPVS配置</button></a>
<table id="table">

    <thead>
    <tr>
        <th>服务</th>
        <th>节点ip</th>
        <th>rpc端口</th>
        <th>web端口</th>
        <th>是否leader</th>
        <th>最后心跳时间</th>
        <th>状态</th>
    </tr>
    </thead>
    <tbody>
    {{- range $index, $server := .Servers}}
    <tr>
        {{- if eq $index 0}}
        <td rowspan="{{ len $.Servers}}">server</td>
        {{- end}}
        <td>{{ $server.IP }}</td>
        <td>{{ $server.RpcPort }}</td>
        <td>{{ $server.WebPort }}</td>
        <td>{{ $server.IsLeader }}</td>
        <td>{{ $server.LastHeartTime }}</td>
        <td>{{ $server.Status }}</td>
    </tr>
    {{- end}}
    {{- range $index, $agent := .Agents}}
    <tr>
        {{- if eq $index 0}}
        <td rowspan="{{ len $.Agents}}">agent</td>
        {{- end}}
        <td>{{ $agent.IP }}</td>
        <td>{{ $agent.RpcPort }}</td>
        <td>{{ $agent.WebPort }}</td>
        <td>{{ $agent.IsLeader }}</td>
        <td>{{ $agent.LastHeartTime }}</td>
        <td>{{ $agent.Status }}</td>
    </tr>
    {{- end}}
    </tbody>
</table>
</body>
</html>